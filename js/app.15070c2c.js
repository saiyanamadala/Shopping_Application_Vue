(()=>{"use strict";var t={60:(t,o,e)=>{var a=e(328),r=e(760),n=e(752);const s={id:"nav"};function i(t,o,e,a,i,c){const d=(0,r.E1)("router-link"),l=(0,r.E1)("router-view");return(0,r.Wz)(),(0,r.An)(r.ae,null,[(0,r.QD)("div",s,[(0,r.K2)(d,{to:"/"},{default:(0,r.Ql)((()=>[(0,r.mY)("Home")])),_:1}),(0,r.mY)(" - "),(0,r.K2)(d,{to:"/basket"},{default:(0,r.Ql)((()=>[(0,r.mY)("Shopping Bag ("+(0,n.WA)(t.productsInBag.length)+")",1)])),_:1})]),(0,r.K2)(l)],64)}var c=e(936);const d={created(){this.$store.dispatch("loadProducts"),this.$store.dispatch("loadBag")},computed:(0,c.ys)(["productsInBag"])};var l=e(152);const u=(0,l.c)(d,[["render",i]]),p=u;var g=e(216);const m={class:"home"},v={class:"products"},h={class:"price"},B=["onClick"],f=["onClick"];function y(t,o,e,a,s,i){return(0,r.Wz)(),(0,r.An)("div",m,[(0,r.QD)("div",v,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(this.products,((t,o)=>((0,r.Wz)(),(0,r.An)("div",{class:(0,n.WN)(["product",{inBag:i.isInBag(t)}]),key:o},[(0,r.QD)("div",{class:"product-image",style:(0,n.MN)({backgroundImage:"url("+t.image+")"})},null,4),(0,r.QD)("h4",null,(0,n.WA)(t.title),1),(0,r.QD)("p",h,"US$ "+(0,n.WA)(t.price),1),i.isInBag(t)?((0,r.Wz)(),(0,r.An)("button",{key:1,class:"remove",onClick:o=>this.$store.dispatch("removeFromBag",t.id)},"Remove from Bag",8,f)):((0,r.Wz)(),(0,r.An)("button",{key:0,onClick:o=>i.addToBag(t)},"Add to bag",8,B))],2)))),128))])])}const b={name:"HomePage",data(){return{}},methods:{addToBag(t){t.quantity=1,this.$store.dispatch("addToBag",t)},isInBag(t){return this.productsInBag.find((o=>o.id==t.id))}},computed:(0,c.ys)(["products","productsInBag"])},k=(0,l.c)(b,[["render",y]]),I=k,A={class:"basket"},W={class:"items"},Q=["onClick"],S={class:"photo"},D=["src"],O={class:"description"},C={class:"price"},T={class:"quantity-area"},w=["disabled","onClick"],z={class:"quantity"},P=["onClick"],j={class:"amount"},q={class:"grand-total"},$={key:1};function _(t,o,e,a,s,i){return(0,r.Wz)(),(0,r.An)("div",A,[(0,r.QD)("div",W,[t.productsInBag.length?((0,r.Wz)(),(0,r.An)(r.ae,{key:0},[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(t.productsInBag,((t,o)=>((0,r.Wz)(),(0,r.An)("div",{key:o,class:"item"},[(0,r.QD)("div",{class:"remove",onClick:o=>this.$store.dispatch("removeFromBag",t.id)},"Remove item",8,Q),(0,r.QD)("div",S,[(0,r.QD)("img",{src:t.image,alt:""},null,8,D)]),(0,r.QD)("div",O,(0,n.WA)(t.title),1),(0,r.QD)("div",C,[(0,r.QD)("span",T,[(0,r.QD)("button",{disabled:t.quantity<1,onClick:o=>t.quantity--},"-",8,w),(0,r.QD)("span",z,(0,n.WA)(t.quantity),1),(0,r.QD)("button",{onClick:o=>t.quantity++},"+",8,P)]),(0,r.QD)("span",j,"US$ "+(0,n.WA)(t.price),1)])])))),128)),(0,r.QD)("div",q," Grand Total: US$ "+(0,n.WA)(i.orderTotal()),1)],64)):((0,r.Wz)(),(0,r.An)("h4",$,"No items in bag yet!"))])])}const F={name:"ShoppingBasket",methods:{orderTotal(){var t=0;return this.productsInBag.forEach((o=>{t+=o.quantity*o.price})),t}},computed:(0,c.ys)(["productsInBag"])},N=(0,l.c)(F,[["render",_]]),x=N,E=[{path:"/",name:"Home",component:I},{path:"/basket",name:"Basket",component:x}],H=(0,g.gv)({history:(0,g.Ow)(),routes:E}),J=H;var K=e(432);const M=(0,c.eC)({state:{products:[],productsInBag:[]},mutations:{loadProducts(t,o){t.products=o},loadBag(t,o){t.productsInBag=o},addToBag(t,o){t.productsInBag.push(o),localStorage.setItem("productsInBag",JSON.stringify(t.productsInBag))},removeFromBag(t,o){var e=t.productsInBag.filter((t=>t.id!=o));t.productsInBag=e,localStorage.setItem("productsInBag",JSON.stringify(t.productsInBag))}},actions:{loadProducts({commit:t}){K.c.get("https://fakestoreapi.com/products").then((o=>{t("loadProducts",o.data)}))},loadBag({commit:t}){localStorage.getItem("productsInBag")&&t("loadBag",JSON.parse(localStorage.getItem("productsInBag")))},addToBag({commit:t},o){t("addToBag",o)},removeFromBag({commit:t},o){confirm("Do you want to remove item from the cart?")&&t("removeFromBag",o)}},modules:{}});(0,a.W0)(p).use(M).use(J).mount("#app")}},o={};function e(a){var r=o[a];if(void 0!==r)return r.exports;var n=o[a]={exports:{}};return t[a](n,n.exports,e),n.exports}e.m=t,(()=>{var t=[];e.O=(o,a,r,n)=>{if(!a){var s=1/0;for(l=0;l<t.length;l++){for(var[a,r,n]=t[l],i=!0,c=0;c<a.length;c++)(!1&n||s>=n)&&Object.keys(e.O).every((t=>e.O[t](a[c])))?a.splice(c--,1):(i=!1,n<s&&(s=n));if(i){t.splice(l--,1);var d=r();void 0!==d&&(o=d)}}return o}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[a,r,n]}})(),(()=>{e.d=(t,o)=>{for(var a in o)e.o(o,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:o[a]})}})(),(()=>{e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{e.o=(t,o)=>Object.prototype.hasOwnProperty.call(t,o)})(),(()=>{e.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t={524:0};e.O.j=o=>0===t[o];var o=(o,a)=>{var r,n,[s,i,c]=a,d=0;if(s.some((o=>0!==t[o]))){for(r in i)e.o(i,r)&&(e.m[r]=i[r]);if(c)var l=c(e)}for(o&&o(a);d<s.length;d++)n=s[d],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(l)},a=self["webpackChunkShopping_Application_vue"]=self["webpackChunkShopping_Application_vue"]||[];a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a))})();var a=e.O(void 0,[999],(()=>e(60)));a=e.O(a)})();
//# sourceMappingURL=app.15070c2c.js.map